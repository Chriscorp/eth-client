<html>

<body>
    <script src="../dist/eth-client.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript">
    const cnsAddress = '0xd772b4c34df1c76d245ac3001029709ce5063c3a';
    const abi = [{"constant":true,"inputs":[{"name":"str","type":"string"}],"name":"echo","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"}];

    var account = new ethClient.Account('http://blockchain.z.com');
    var contract = new ethClient.AltExecCnsContract(account);

    function register() {
        account.register($('#password').val(), function(err, address) {
            if (err) {
                console.log(err);
            } else {
                $('#address').html(address);
            }
        });
    };

    function echo() {
        contract.call($("#password").val(), cnsAddress, 'Sample', 'echo', [ $('#input').val() ], abi, function(err, res) {
            if (err) {
                console.log(err);
            } else {
                console.log(res);
                $('#result').html(res.join(','));
            }
        });
    };
    </script>
    <div>
        password:
        <input id="password" />
        <button onclick="register()">register</button>
        <span id="address" />
    </div>
    <div>
        input:
        <input id="input" />
        <button onclick="echo()">echo</button>
        <span id="result" />
    </div>
</body>

</html>
